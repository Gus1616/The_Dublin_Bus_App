import { defineComponent, ref, watchEffect, openBlock, createElementBlock, createElementVNode, Fragment, renderList, toDisplayString, unref, createTextVNode, createVNode, Transition, withCtx, withDirectives, vShow, createCommentVNode, pushScopeId, popScopeId } from "vue";
const convertTimeZone = (time, offset) => {
  const date = new Date((time + offset) * 1e3);
  const utc = date.getTime() + date.getTimezoneOffset() * 6e4;
  const nd = new Date(utc);
  return nd;
};
const utcToDate = (time, offset) => {
  const date = convertTimeZone(time, offset);
  const day = date.toLocaleString("default", { weekday: "long" });
  const month = date.toLocaleString("default", { month: "long" });
  const dayOfMonth = date.getDate();
  return `${day}, ${dayOfMonth} ${month}`;
};
const utcToTime = (time, offset) => {
  const date = convertTimeZone(time, offset);
  const hours = date.getHours();
  const minutes = date.getMinutes();
  const ampm = hours >= 12 ? "pm" : "am";
  const hour = hours == 12 && ampm == "pm" ? hours : hours % 12;
  const formattedHour = hour < 10 ? `0${hour}` : hour;
  const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;
  return `${formattedHour}:${formattedMinutes} ${ampm}`;
};
const excludeString = (excludes) => {
  return excludes.join(",");
};
const getWeather = async (apiKey, lat, lon, units = "metric", excludes = ["minutely", "alerts"]) => {
  let data;
  try {
    const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=${units}&exclude=${excludeString(excludes)}`);
    data = await response.json();
  } catch (error) {
    console.log(error);
    data = {};
  }
  return data;
};
var VueOpenWeather_vue_vue_type_style_index_0_lang = "";
var VueOpenWeather_vue_vue_type_style_index_1_scoped_true_lang = "";
var _export_sfc = (sfc, props) => {
  const target = sfc.__vccOpts || sfc;
  for (const [key, val] of props) {
    target[key] = val;
  }
  return target;
};
const _withScopeId = (n) => (pushScopeId("data-v-25526f10"), n = n(), popScopeId(), n);
const _hoisted_1$1 = { class: "component" };
const _hoisted_2$1 = { class: "horizontal" };
const _hoisted_3$1 = {
  style: { "margin-top": "0.25rem" },
  align: "center"
};
const _hoisted_4$1 = {
  style: { "margin-top": "0.25rem" },
  align: "center"
};
const _hoisted_5 = {
  style: { "margin-top": "0.75rem" },
  align: "center"
};
const _hoisted_6 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("svg", {
  width: "1em",
  height: "1em",
  viewBox: "0 0 24 24"
}, [
  /* @__PURE__ */ createElementVNode("path", {
    fill: "currentColor",
    d: "M19 18H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4h.71C7.37 7.69 9.5 6 12 6a5.5 5.5 0 0 1 5.5 5.5v.5H19a3 3 0 0 1 3 3a3 3 0 0 1-3 3m.35-7.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"
  })
], -1));
const _hoisted_7 = { class: "center" };
const _hoisted_8 = { class: "absolute" };
const _hoisted_9 = { class: "relative left-[-50%]" };
const _hoisted_10 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("div", { class: "lds-dual-ring" }, null, -1));
const _hoisted_11 = [
  _hoisted_10
];
const _hoisted_12 = { class: "center" };
const _hoisted_13 = ["alt", "src"];
const _hoisted_14 = {
  style: { "margin-top": "0.25rem" },
  align: "center"
};
const _hoisted_15 = {
  style: { "margin-top": "0.75rem" },
  align: "center"
};
const _hoisted_16 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("svg", {
  width: "1em",
  height: "1em",
  viewBox: "0 0 24 24"
}, [
  /* @__PURE__ */ createElementVNode("path", {
    fill: "currentColor",
    d: "M19 18H6a4 4 0 0 1-4-4a4 4 0 0 1 4-4h.71C7.37 7.69 9.5 6 12 6a5.5 5.5 0 0 1 5.5 5.5v.5H19a3 3 0 0 1 3 3a3 3 0 0 1-3 3m.35-7.97A7.49 7.49 0 0 0 12 4C9.11 4 6.6 5.64 5.35 8.03A6.004 6.004 0 0 0 0 14a6 6 0 0 0 6 6h13a5 5 0 0 0 5-5c0-2.64-2.05-4.78-4.65-4.97Z"
  })
], -1));
const _hoisted_17 = { class: "center" };
const _hoisted_18 = { class: "absolute" };
const _hoisted_19 = { class: "relative left-[-50%]" };
const _hoisted_20 = /* @__PURE__ */ _withScopeId(() => /* @__PURE__ */ createElementVNode("div", { class: "lds-dual-ring" }, null, -1));
const _hoisted_21 = [
  _hoisted_20
];
const _hoisted_22 = { class: "center" };
const _hoisted_23 = ["alt", "src"];
const _sfc_main$1 = /* @__PURE__ */ defineComponent({
  props: {
    "apiKey": String,
    "lat": String,
    "long": String,
    "hourly": {
      type: Boolean,
      default: false
    },
    "daily": {
      type: Boolean,
      default: false
    },
    "units": {
      type: String,
      default: "metric"
    },
    "excludes": {
      type: Array,
      default: ["minutely", "alerts", "current"]
    }
  },
  emits: ["weatherData"],
  setup(__props, { emit: emits }) {
    const props = __props;
    const isLoaded = ref(false);
    const apiLink = ref("");
    const weather = ref("");
    const hourly = ref();
    const daily = ref();
    watchEffect(async () => {
      apiLink.value = `https://api.openweathermap.org/data/2.5/onecall?lat=${props.lat}&lon=${props.long}&appid=${props.apiKey}&units=${props.units}&exclude=${excludeString(props.excludes)}`;
      try {
        const weatherData = await fetch(apiLink.value);
        weather.value = await weatherData.json();
        hourly.value = weather.value.hourly;
        daily.value = weather.value.daily;
        emits("weatherData", [weather.value]);
      } catch (error) {
        console.log(error);
      }
    });
    return (_ctx, _cache) => {
      return openBlock(), createElementBlock("div", _hoisted_1$1, [
        createElementVNode("div", _hoisted_2$1, [
          hourly.value && props.hourly ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(hourly.value, (condition) => {
            return openBlock(), createElementBlock("div", {
              class: "card",
              key: condition
            }, [
              createElementVNode("p", _hoisted_3$1, toDisplayString(unref(utcToDate)(condition.dt, weather.value.timezone_offset)), 1),
              createElementVNode("p", _hoisted_4$1, toDisplayString(unref(utcToTime)(condition.dt, weather.value.timezone_offset)), 1),
              createElementVNode("p", _hoisted_5, [
                _hoisted_6,
                createTextVNode(" " + toDisplayString(condition.clouds) + "% ", 1)
              ]),
              createVNode(Transition, { appear: "" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_7, [
                    createElementVNode("div", _hoisted_8, [
                      withDirectives(createElementVNode("div", _hoisted_9, _hoisted_11, 512), [
                        [vShow, !isLoaded.value]
                      ])
                    ])
                  ])
                ]),
                _: 1
              }),
              createVNode(Transition, null, {
                default: withCtx(() => [
                  withDirectives(createElementVNode("div", _hoisted_12, [
                    createElementVNode("img", {
                      draggable: "false",
                      onLoad: _cache[0] || (_cache[0] = ($event) => isLoaded.value = true),
                      alt: condition.weather[0],
                      src: `https://openweathermap.org/img/wn/${condition.weather[0].icon}@2x.png`
                    }, null, 40, _hoisted_13)
                  ], 512), [
                    [vShow, isLoaded.value]
                  ])
                ]),
                _: 2
              }, 1024)
            ]);
          }), 128)) : daily.value && props.daily ? (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(daily.value, (dailyCond) => {
            return openBlock(), createElementBlock("div", {
              class: "card",
              key: dailyCond
            }, [
              createElementVNode("p", _hoisted_14, toDisplayString(unref(utcToDate)(dailyCond.dt, weather.value.timezone_offset)), 1),
              createElementVNode("p", _hoisted_15, [
                _hoisted_16,
                createTextVNode(" " + toDisplayString(dailyCond.clouds) + "% ", 1)
              ]),
              createVNode(Transition, { appear: "" }, {
                default: withCtx(() => [
                  createElementVNode("div", _hoisted_17, [
                    createElementVNode("div", _hoisted_18, [
                      withDirectives(createElementVNode("div", _hoisted_19, _hoisted_21, 512), [
                        [vShow, !isLoaded.value]
                      ])
                    ])
                  ])
                ]),
                _: 1
              }),
              createVNode(Transition, null, {
                default: withCtx(() => [
                  withDirectives(createElementVNode("div", _hoisted_22, [
                    createElementVNode("img", {
                      draggable: "false",
                      onLoad: _cache[1] || (_cache[1] = ($event) => isLoaded.value = true),
                      alt: dailyCond.weather[0],
                      src: `https://openweathermap.org/img/wn/${dailyCond.weather[0].icon}@2x.png`
                    }, null, 40, _hoisted_23)
                  ], 512), [
                    [vShow, isLoaded.value]
                  ])
                ]),
                _: 2
              }, 1024)
            ]);
          }), 128)) : createCommentVNode("", true)
        ])
      ]);
    };
  }
});
var VueOpenWeather = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["__scopeId", "data-v-25526f10"]]);
var VueCurrentWeather_vue_vue_type_style_index_0_scoped_true_lang = "";
const _hoisted_1 = {
  key: 0,
  class: "component card",
  style: { "padding-left": "15px", "padding-bottom": "20px" }
};
const _hoisted_2 = { style: { "display": "flex" } };
const _hoisted_3 = ["alt", "src"];
const _hoisted_4 = { class: "grid-container" };
const _sfc_main = /* @__PURE__ */ defineComponent({
  props: {
    "apiKey": String,
    "lat": String,
    "long": String,
    "units": {
      type: String,
      default: "metric"
    }
  },
  emits: ["currentWeather"],
  setup(__props, { emit: emits }) {
    const props = __props;
    const update = ref(true);
    const convertDirection = (angle) => {
      if (angle >= 22.5 && angle < 67.5) {
        return "NE";
      } else if (angle >= 67.5 && angle < 112.5) {
        return "E";
      } else if (angle >= 112.5 && angle < 157.5) {
        return "SE";
      } else if (angle >= 157.5 && angle < 202.5) {
        return "S";
      } else if (angle >= 202.5 && angle < 247.5) {
        return "SW";
      } else if (angle >= 247.5 && angle < 292.5) {
        return "W";
      } else if (angle >= 292.5 && angle < 337.5) {
        return "NW";
      } else if (angle >= 337.5 || angle < 22.5) {
        return "N";
      }
    };
    const weather = ref();
    const currentWeather = ref();
    watchEffect(async () => {
      try {
        console.log(update.value);
        const weatherData = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${props.lat}&lon=${props.long}&appid=${props.apiKey}&units=${props.units}&exclude=minutely,alerts,hourly,daily`);
        weather.value = await weatherData.json();
        currentWeather.value = weather.value.current;
        utcToDate(currentWeather.value.dt, weather.value.timezone_offset);
        emits("currentWeather", [weather.value]);
      } catch (error) {
        console.log(error);
      }
    });
    setInterval(() => {
      update.value = !update.value;
    }, (120 - new Date().getSeconds()) * 1e3);
    return (_ctx, _cache) => {
      return currentWeather.value ? (openBlock(), createElementBlock("div", _hoisted_1, [
        createElementVNode("h1", null, toDisplayString(unref(utcToDate)(currentWeather.value.dt, weather.value.timezone_offset)) + ", " + toDisplayString(unref(utcToTime)(currentWeather.value.dt, weather.value.timezone_offset)), 1),
        createElementVNode("div", _hoisted_2, [
          createTextVNode(toDisplayString(currentWeather.value.weather[0].description) + " ", 1),
          createElementVNode("img", {
            draggable: "false",
            alt: currentWeather.value.weather[0],
            src: `https://openweathermap.org/img/wn/${currentWeather.value.weather[0].icon}@2x.png`
          }, null, 8, _hoisted_3)
        ]),
        createElementVNode("div", _hoisted_4, [
          createElementVNode("div", null, " Cloud Cover " + toDisplayString(currentWeather.value.clouds) + "% ", 1),
          createElementVNode("div", null, " Humidity " + toDisplayString(currentWeather.value.humidity) + "% ", 1),
          createElementVNode("div", null, " Pressure " + toDisplayString(currentWeather.value.pressure) + "hPa ", 1),
          createElementVNode("div", null, " Temperature " + toDisplayString(currentWeather.value.temp) + "\xB0C ", 1),
          createElementVNode("div", null, " Feels Like " + toDisplayString(currentWeather.value.feels_like) + "\xB0C ", 1),
          createElementVNode("div", null, " Dew Point " + toDisplayString(currentWeather.value.dew_point) + "\xB0C ", 1),
          createElementVNode("div", null, toDisplayString(currentWeather.value.wind_speed) + "m/s " + toDisplayString(convertDirection(currentWeather.value.wind_deg)), 1),
          createElementVNode("div", null, " Visibility " + toDisplayString((currentWeather.value.visibility / 1e3).toFixed(2)) + "km ", 1),
          createElementVNode("div", null, " UV Index " + toDisplayString(currentWeather.value.uvi), 1),
          createElementVNode("div", null, " Sunrise " + toDisplayString(unref(utcToTime)(currentWeather.value.sunrise, weather.value.timezone_offset)), 1),
          createElementVNode("div", null, " Sunset " + toDisplayString(unref(utcToTime)(currentWeather.value.sunset, weather.value.timezone_offset)), 1)
        ])
      ])) : createCommentVNode("", true);
    };
  }
});
var VueCurrentWeather = /* @__PURE__ */ _export_sfc(_sfc_main, [["__scopeId", "data-v-c0093f52"]]);
const OpenWeather = {
  install: (app) => {
    app.component("VueOpenWeather", VueOpenWeather);
    app.component("VueCurrentWeather", VueCurrentWeather);
  }
};
export { OpenWeather, VueCurrentWeather, VueOpenWeather, convertTimeZone, getWeather, utcToDate, utcToTime };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnVlLW9wZW53ZWF0aGVyLmVzLmpzIiwic291cmNlcyI6WyIuLi9zcmMvY29tcG9uZW50cy91dGlscy50cyIsIi4uL3BsdWdpbi12dWU6ZXhwb3J0LWhlbHBlciIsIi4uL3NyYy9jb21wb25lbnRzL1Z1ZU9wZW5XZWF0aGVyLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL1Z1ZUN1cnJlbnRXZWF0aGVyLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJdCB0YWtlcyBhIHRpbWUgaW4gc2Vjb25kcyBhbmQgYW4gb2Zmc2V0IGluIHNlY29uZHMgYW5kIHJldHVybnMgYSBuZXcgRGF0ZSBvYmplY3Qgd2l0aCB0aGUgdGltZXpvbmVcclxuICogb2Zmc2V0IGFwcGxpZWRcclxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSB0aGUgdGltZSBpbiBzZWNvbmRzIHNpbmNlIHRoZSBlcG9jaFxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBvZiB0aGUgdGltZXpvbmUgeW91IHdhbnQgdG8gY29udmVydCB0by5cclxuICogQHJldHVybnMgQSBEYXRlIG9iamVjdC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBjb252ZXJ0VGltZVpvbmUgPSAodGltZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcikgPT4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgodGltZSArIG9mZnNldCkgKiAxMDAwKVxyXG4gIGNvbnN0IHV0YyA9IGRhdGUuZ2V0VGltZSgpICsgKGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKVxyXG4gIGNvbnN0IG5kID0gbmV3IERhdGUodXRjKVxyXG4gIHJldHVybiBuZFxyXG59XHJcblxyXG4vKipcclxuICogSXQgdGFrZXMgYSBVVEMgdGltZSBhbmQgYW4gb2Zmc2V0IGFuZCByZXR1cm5zIGEgZGF0ZSBpbiB0aGUgZm9ybWF0IG9mIFwiRGF5LCBEYXkgb2YgTW9udGggTW9udGhcIlxyXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIG51bWJlciAtIHRoZSB0aW1lIGluIG1pbGxpc2Vjb25kc1xyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gLTI4ODAwXHJcbiAqIEByZXR1cm5zIEEgc3RyaW5nIGluIHRoZSBmb3JtYXQgb2YgXCJNb25kYXksIDEgSmFudWFyeVwiXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXRjVG9EYXRlID0gKHRpbWU6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpID0+IHtcclxuICBjb25zdCBkYXRlID0gY29udmVydFRpbWVab25lKHRpbWUsIG9mZnNldClcclxuICBjb25zdCBkYXkgPSBkYXRlLnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyB3ZWVrZGF5OiAnbG9uZycgfSlcclxuICBjb25zdCBtb250aCA9IGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IG1vbnRoOiAnbG9uZycgfSlcclxuICBjb25zdCBkYXlPZk1vbnRoID0gZGF0ZS5nZXREYXRlKClcclxuICByZXR1cm4gYCR7ZGF5fSwgJHtkYXlPZk1vbnRofSAke21vbnRofWBcclxufVxyXG5cclxuLyoqXHJcbiAqIEl0IHRha2VzIGEgVVRDIHRpbWUgYW5kIGFuIG9mZnNldCBhbmQgcmV0dXJucyBhIGZvcm1hdHRlZCB0aW1lXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gbnVtYmVyIC0gdGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSAtMjg4MDBcclxuICogQHJldHVybnMgQSBzdHJpbmcgaW4gdGhlIGZvcm1hdCBvZiBcIkhIOk1NIGFtL3BtXCJcclxuICovXHJcbmV4cG9ydCBjb25zdCB1dGNUb1RpbWUgPSAodGltZTogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcikgPT4ge1xyXG4gIGNvbnN0IGRhdGUgPSBjb252ZXJ0VGltZVpvbmUodGltZSwgb2Zmc2V0KVxyXG4gIGNvbnN0IGhvdXJzID0gZGF0ZS5nZXRIb3VycygpXHJcbiAgY29uc3QgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpXHJcbiAgY29uc3QgYW1wbSA9IGhvdXJzID49IDEyID8gJ3BtJyA6ICdhbSdcclxuICBjb25zdCBob3VyID0gKGhvdXJzID09IDEyKSAmJiAoYW1wbSA9PSAncG0nKSA/IGhvdXJzIDogaG91cnMgJSAxMlxyXG4gIGNvbnN0IGZvcm1hdHRlZEhvdXIgPSBob3VyIDwgMTAgPyBgMCR7aG91cn1gIDogaG91clxyXG4gIGNvbnN0IGZvcm1hdHRlZE1pbnV0ZXMgPSBtaW51dGVzIDwgMTAgPyBgMCR7bWludXRlc31gIDogbWludXRlc1xyXG4gIHJldHVybiBgJHtmb3JtYXR0ZWRIb3VyfToke2Zvcm1hdHRlZE1pbnV0ZXN9ICR7YW1wbX1gXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJdCB0YWtlcyBhbiBhcnJheSBvZiBzdHJpbmdzIGFuZCByZXR1cm5zIGEgc3RyaW5nIG9mIGNvbW1hIHNlcGFyYXRlZCB2YWx1ZXNcclxuICogQHBhcmFtIHthbnlbXX0gZXhjbHVkZXMgLSBhbnlbXVxyXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYW4gYXJyYXkgb2YgYW55IHR5cGUgYW5kIHJldHVybnMgYSBzdHJpbmcgb2YgdGhlIGFycmF5IGVsZW1lbnRzXHJcbiAqIGpvaW5lZCBieSBhIGNvbW1hLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGV4Y2x1ZGVTdHJpbmcgPSAoZXhjbHVkZXM6IGFueVtdKSA9PiB7XHJcbiAgcmV0dXJuIGV4Y2x1ZGVzLmpvaW4oJywnKVxyXG59XHJcblxyXG4vKipcclxuICogSXQgdGFrZXMgYW4gQVBJIGtleSwgbGF0aXR1ZGUsIGxvbmdpdHVkZSwgdW5pdHMsIGFuZCBhbiBhcnJheSBvZiBzdHJpbmdzIHRoYXQgcmVwcmVzZW50IHRoZSBkYXRhIHlvdVxyXG4gKiB3YW50IHRvIGV4Y2x1ZGUgZnJvbSB0aGUgcmVzcG9uc2UuIFxyXG4gKiBcclxuICogSXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgd2VhdGhlciBkYXRhLiBcclxuICogXHJcbiAqIFRoZSBmdW5jdGlvbiB1c2VzIHRoZSBmZXRjaCBBUEkgdG8gbWFrZSBhIHJlcXVlc3QgdG8gdGhlIE9wZW5XZWF0aGVyTWFwIEFQSS4gXHJcbiAqIFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBpS2V5IC0gc3RyaW5nIC0gWW91ciBPcGVuV2VhdGhlck1hcCBBUEkga2V5XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYXQgLSBzdHJpbmcsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb24gLSBsb25naXR1ZGVcclxuICogQHBhcmFtIFt1bml0cz1tZXRyaWNdIC0gbWV0cmljLCBpbXBlcmlhbCwgb3Igc3RhbmRhcmRcclxuICogQHBhcmFtIGV4Y2x1ZGVzIC0gQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGFyZSB0aGUgbmFtZXMgb2YgdGhlIGRhdGEgcG9pbnRzIHlvdSB3YW50IHRvIGV4Y2x1ZGUgZnJvbVxyXG4gKiB0aGUgcmVzcG9uc2UuXHJcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSB3ZWF0aGVyIGRhdGEuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0V2VhdGhlciA9IGFzeW5jIChcclxuICBhcGlLZXk6IHN0cmluZyxcclxuICBsYXQ6IHN0cmluZyxcclxuICBsb246IHN0cmluZyxcclxuICB1bml0cyA9IFwibWV0cmljXCIsXHJcbiAgZXhjbHVkZXMgPSBbXCJtaW51dGVseVwiLCBcImFsZXJ0c1wiXVxyXG4pID0+IHtcclxuICBsZXQgZGF0YVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9sYXQ9JHtsYXR9Jmxvbj0ke2xvbn0mYXBwaWQ9JHthcGlLZXl9JnVuaXRzPSR7dW5pdHN9JmV4Y2x1ZGU9JHtleGNsdWRlU3RyaW5nKGV4Y2x1ZGVzKX1gKVxyXG4gICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgIGRhdGEgPSB7fVxyXG4gIH1cclxuICByZXR1cm4gZGF0YVxyXG59IiwiXG5leHBvcnQgZGVmYXVsdCAoc2ZjLCBwcm9wcykgPT4ge1xuICBjb25zdCB0YXJnZXQgPSBzZmMuX192Y2NPcHRzIHx8IHNmYztcbiAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIHByb3BzKSB7XG4gICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCIgc2V0dXA+XHJcbmltcG9ydCB7IHJlZiwgd2F0Y2hFZmZlY3QgfSBmcm9tICd2dWUnXHJcbmltcG9ydCB7IHV0Y1RvRGF0ZSwgdXRjVG9UaW1lLCBleGNsdWRlU3RyaW5nIH0gZnJvbSAnLi91dGlscydcclxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wcyh7XHJcbiAgXCJhcGlLZXlcIjogU3RyaW5nLFxyXG4gIFwibGF0XCI6IFN0cmluZyxcclxuICBcImxvbmdcIjogU3RyaW5nLFxyXG4gIFwiaG91cmx5XCI6IHtcclxuICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICBkZWZhdWx0OiBmYWxzZVxyXG4gIH0sXHJcbiAgXCJkYWlseVwiOiB7XHJcbiAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogZmFsc2VcclxuICB9LFxyXG4gIFwidW5pdHNcIjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZGVmYXVsdDogJ21ldHJpYycgLy8gbWV0cmljLCBpbXBlcmlhbFxyXG4gIH0sXHJcbiAgXCJleGNsdWRlc1wiOiB7XHJcbiAgICB0eXBlOiBBcnJheSxcclxuICAgIGRlZmF1bHQ6IFsnbWludXRlbHknLCAnYWxlcnRzJywgJ2N1cnJlbnQnXVxyXG4gIH1cclxufSlcclxuY29uc3QgZW1pdHMgPSBkZWZpbmVFbWl0cyhbXCJ3ZWF0aGVyRGF0YVwiXSlcclxuY29uc3QgaXNMb2FkZWQgPSByZWYoZmFsc2UpXHJcblxyXG4vLyBXZWF0aGVyIERhdGFcclxuY29uc3QgYXBpTGluayA9IHJlZignJylcclxuY29uc3Qgd2VhdGhlciA9IHJlZjxhbnk+KCcnKVxyXG5jb25zdCBob3VybHkgPSByZWY8YW55PigpXHJcbmNvbnN0IGRhaWx5ID0gcmVmPGFueT4oKVxyXG53YXRjaEVmZmVjdChhc3luYyAoKSA9PiB7XHJcbiAgYXBpTGluay52YWx1ZSA9IGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9JHtwcm9wcy5sYXR9Jmxvbj0ke3Byb3BzLmxvbmd9JmFwcGlkPSR7cHJvcHMuYXBpS2V5fSZ1bml0cz0ke3Byb3BzLnVuaXRzfSZleGNsdWRlPSR7ZXhjbHVkZVN0cmluZyhwcm9wcy5leGNsdWRlcyl9YFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB3ZWF0aGVyRGF0YSA9IGF3YWl0IGZldGNoKGFwaUxpbmsudmFsdWUpXHJcbiAgICB3ZWF0aGVyLnZhbHVlID0gYXdhaXQgd2VhdGhlckRhdGEuanNvbigpXHJcbiAgICBob3VybHkudmFsdWUgPSB3ZWF0aGVyLnZhbHVlLmhvdXJseVxyXG4gICAgZGFpbHkudmFsdWUgPSB3ZWF0aGVyLnZhbHVlLmRhaWx5XHJcbiAgICBlbWl0cyhcIndlYXRoZXJEYXRhXCIsIFt3ZWF0aGVyLnZhbHVlXSlcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgfVxyXG59KVxyXG48L3NjcmlwdD5cclxuXHJcbjx0ZW1wbGF0ZT5cclxuICA8ZGl2IGNsYXNzPVwiY29tcG9uZW50XCI+XHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzPVwiaG9yaXpvbnRhbFwiIFxyXG4gICAgPlxyXG4gICAgICA8ZGl2IHYtaWY9XCJob3VybHkgJiYgcHJvcHMuaG91cmx5XCJcclxuICAgICAgICBjbGFzcz1cImNhcmRcIlxyXG4gICAgICAgIHYtZm9yPVwiY29uZGl0aW9uIGluIGhvdXJseVwiIDprZXk9XCJjb25kaXRpb25cIlxyXG4gICAgICA+XHJcbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAwLjI1cmVtO1wiIGFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICB7eyB1dGNUb0RhdGUoY29uZGl0aW9uLmR0LCB3ZWF0aGVyLnRpbWV6b25lX29mZnNldCkgfX1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAwLjI1cmVtO1wiIGFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICB7eyB1dGNUb1RpbWUoY29uZGl0aW9uLmR0LCB3ZWF0aGVyLnRpbWV6b25lX29mZnNldCkgfX1cclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAwLjc1cmVtO1wiIGFsaWduPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICA8c3ZnIHdpZHRoPVwiMWVtXCIgaGVpZ2h0PVwiMWVtXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTE5IDE4SDZhNCA0IDAgMCAxLTQtNGE0IDQgMCAwIDEgNC00aC43MUM3LjM3IDcuNjkgOS41IDYgMTIgNmE1LjUgNS41IDAgMCAxIDUuNSA1LjV2LjVIMTlhMyAzIDAgMCAxIDMgM2EzIDMgMCAwIDEtMyAzbS4zNS03Ljk3QTcuNDkgNy40OSAwIDAgMCAxMiA0QzkuMTEgNCA2LjYgNS42NCA1LjM1IDguMDNBNi4wMDQgNi4wMDQgMCAwIDAgMCAxNGE2IDYgMCAwIDAgNiA2aDEzYTUgNSAwIDAgMCA1LTVjMC0yLjY0LTIuMDUtNC43OC00LjY1LTQuOTdaXCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAge3sgY29uZGl0aW9uLmNsb3VkcyB9fSVcclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPFRyYW5zaXRpb24gYXBwZWFyPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNlbnRlclwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWJzb2x1dGVcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmUgbGVmdC1bLTUwJV1cIiB2LXNob3c9XCIhaXNMb2FkZWRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZHMtZHVhbC1yaW5nXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9UcmFuc2l0aW9uPlxyXG4gICAgICAgIDxUcmFuc2l0aW9uPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNlbnRlclwiIHYtc2hvdz1cImlzTG9hZGVkXCI+XHJcbiAgICAgICAgICAgIDxpbWcgZHJhZ2dhYmxlPVwiZmFsc2VcIiBAbG9hZD1cImlzTG9hZGVkID0gdHJ1ZVwiIDphbHQ9XCJjb25kaXRpb24ud2VhdGhlclswXVwiIDpzcmM9XCJgaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7Y29uZGl0aW9uLndlYXRoZXJbMF0uaWNvbn1AMngucG5nYFwiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1RyYW5zaXRpb24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IHYtZWxzZS1pZj1cImRhaWx5ICYmIHByb3BzLmRhaWx5XCJcclxuICAgICAgICBjbGFzcz1cImNhcmRcIlxyXG4gICAgICAgIHYtZm9yPVwiZGFpbHlDb25kIGluIGRhaWx5XCIgOmtleT1cImRhaWx5Q29uZFwiXHJcbiAgICAgID5cclxuICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDAuMjVyZW07XCIgYWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAgICAgIHt7IHV0Y1RvRGF0ZShkYWlseUNvbmQuZHQsIHdlYXRoZXIudGltZXpvbmVfb2Zmc2V0KSB9fVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDAuNzVyZW07XCIgYWxpZ249XCJjZW50ZXJcIj5cclxuICAgICAgICAgIDxzdmcgd2lkdGg9XCIxZW1cIiBoZWlnaHQ9XCIxZW1cIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMTkgMThINmE0IDQgMCAwIDEtNC00YTQgNCAwIDAgMSA0LTRoLjcxQzcuMzcgNy42OSA5LjUgNiAxMiA2YTUuNSA1LjUgMCAwIDEgNS41IDUuNXYuNUgxOWEzIDMgMCAwIDEgMyAzYTMgMyAwIDAgMS0zIDNtLjM1LTcuOTdBNy40OSA3LjQ5IDAgMCAwIDEyIDRDOS4xMSA0IDYuNiA1LjY0IDUuMzUgOC4wM0E2LjAwNCA2LjAwNCAwIDAgMCAwIDE0YTYgNiAwIDAgMCA2IDZoMTNhNSA1IDAgMCAwIDUtNWMwLTIuNjQtMi4wNS00Ljc4LTQuNjUtNC45N1pcIj48L3BhdGg+PC9zdmc+XHJcbiAgICAgICAgICB7eyBkYWlseUNvbmQuY2xvdWRzIH19JVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8VHJhbnNpdGlvbiBhcHBlYXI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZSBsZWZ0LVstNTAlXVwiIHYtc2hvdz1cIiFpc0xvYWRlZFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxkcy1kdWFsLXJpbmdcIj48L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1RyYW5zaXRpb24+XHJcbiAgICAgICAgPFRyYW5zaXRpb24+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2VudGVyXCIgdi1zaG93PVwiaXNMb2FkZWRcIj5cclxuICAgICAgICAgICAgPGltZyBkcmFnZ2FibGU9XCJmYWxzZVwiIEBsb2FkPVwiaXNMb2FkZWQgPSB0cnVlXCIgOmFsdD1cImRhaWx5Q29uZC53ZWF0aGVyWzBdXCIgOnNyYz1cImBodHRwczovL29wZW53ZWF0aGVybWFwLm9yZy9pbWcvd24vJHtkYWlseUNvbmQud2VhdGhlclswXS5pY29ufUAyeC5wbmdgXCIgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvVHJhbnNpdGlvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuXHJcbjxzdHlsZT5cclxuLmNlbnRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbXBvbmVudCB7XHJcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jYXJkIHtcclxuICBtaW4td2lkdGg6IDE1MHB4O1xyXG4gIG1hcmdpbjogMC41cmVtO1xyXG4gIHBhZGRpbmc6IDAuNXJlbTtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIGJveC1zaGFkb3c6IDVweCA0cHggOXB4IDNweCByZ2JhKDAsMCwwLDAuMik7XHJcbiAgdHJhbnNpdGlvbjogMC4zcztcclxufVxyXG5cclxuLmxkcy1kdWFsLXJpbmcge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB3aWR0aDogODBweDtcclxuICBoZWlnaHQ6IDgwcHg7XHJcbn1cclxuXHJcbi5sZHMtZHVhbC1yaW5nOmFmdGVyIHtcclxuICBjb250ZW50OiBcIiBcIjtcclxuICBkaXNwbGF5OiBibG9jaztcclxuICB3aWR0aDogNTBweDtcclxuICBoZWlnaHQ6IDUwcHg7XHJcbiAgbWFyZ2luOiA4cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJvcmRlcjogNnB4IHNvbGlkICNmZmY7XHJcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDI1LCAyNSwgMjUsIDAuOCkgdHJhbnNwYXJlbnQgI2ZmZiB0cmFuc3BhcmVudDtcclxuICBhbmltYXRpb246IGxkcy1kdWFsLXJpbmcgMS4ycyBsaW5lYXIgaW5maW5pdGU7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbGRzLWR1YWwtcmluZyB7XHJcbiAgMCUge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XHJcbiAgfVxyXG4gIDEwMCUge1xyXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICB9XHJcbn1cclxuPC9zdHlsZT5cclxuXHJcbjxzdHlsZSBzY29wZWQ+XHJcbi5ob3Jpem9udGFsIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIG92ZXJmbG93LXg6IHNjcm9sbDtcclxufVxyXG5cclxuLmhvcml6b250YWw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4udi1lbnRlci1hY3RpdmUsXHJcbi52LWxlYXZlLWFjdGl2ZSB7XHJcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGVhc2U7XHJcbn1cclxuXHJcbi52LWVudGVyLWZyb20sXHJcbi52LWxlYXZlLXRvIHtcclxuICBvcGFjaXR5OiAwO1xyXG59XHJcbjwvc3R5bGU+IiwiPHNjcmlwdCBsYW5nPVwidHNcIiBzZXR1cD5cclxuaW1wb3J0IHsgcmVmLCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSdcclxuaW1wb3J0IHsgdXRjVG9EYXRlLCB1dGNUb1RpbWUgfSBmcm9tICcuL3V0aWxzJ1xyXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzKHtcclxuICBcImFwaUtleVwiOiBTdHJpbmcsXHJcbiAgXCJsYXRcIjogU3RyaW5nLFxyXG4gIFwibG9uZ1wiOiBTdHJpbmcsXHJcbiAgXCJ1bml0c1wiOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBkZWZhdWx0OiAnbWV0cmljJyAvLyBtZXRyaWMsIGltcGVyaWFsXHJcbiAgfVxyXG59KVxyXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzKFtcImN1cnJlbnRXZWF0aGVyXCJdKVxyXG5jb25zdCB1cGRhdGUgPSByZWYodHJ1ZSlcclxuXHJcbi8vIEZ1bmN0aW9uIHRoYXQgY29udmVydHMgYW5nbGUgdG8gTi9TL0UvVy9ORS9OVy9TRS9TV1xyXG5jb25zdCBjb252ZXJ0RGlyZWN0aW9uID0gKGFuZ2xlOiBudW1iZXIpID0+IHtcclxuICBpZiAoYW5nbGUgPj0gMjIuNSAmJiBhbmdsZSA8IDY3LjUpIHtcclxuICAgIHJldHVybiAnTkUnXHJcbiAgfSBlbHNlIGlmIChhbmdsZSA+PSA2Ny41ICYmIGFuZ2xlIDwgMTEyLjUpIHtcclxuICAgIHJldHVybiAnRSdcclxuICB9IGVsc2UgaWYgKGFuZ2xlID49IDExMi41ICYmIGFuZ2xlIDwgMTU3LjUpIHtcclxuICAgIHJldHVybiAnU0UnXHJcbiAgfSBlbHNlIGlmIChhbmdsZSA+PSAxNTcuNSAmJiBhbmdsZSA8IDIwMi41KSB7XHJcbiAgICByZXR1cm4gJ1MnXHJcbiAgfSBlbHNlIGlmIChhbmdsZSA+PSAyMDIuNSAmJiBhbmdsZSA8IDI0Ny41KSB7XHJcbiAgICByZXR1cm4gJ1NXJ1xyXG4gIH0gZWxzZSBpZiAoYW5nbGUgPj0gMjQ3LjUgJiYgYW5nbGUgPCAyOTIuNSkge1xyXG4gICAgcmV0dXJuICdXJ1xyXG4gIH0gZWxzZSBpZiAoYW5nbGUgPj0gMjkyLjUgJiYgYW5nbGUgPCAzMzcuNSkge1xyXG4gICAgcmV0dXJuICdOVydcclxuICB9IGVsc2UgaWYgKGFuZ2xlID49IDMzNy41IHx8IGFuZ2xlIDwgMjIuNSkge1xyXG4gICAgcmV0dXJuICdOJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgd2VhdGhlciA9IHJlZjxhbnk+KClcclxuY29uc3QgY3VycmVudFdlYXRoZXIgPSByZWY8YW55PigpXHJcbndhdGNoRWZmZWN0KGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2codXBkYXRlLnZhbHVlKVxyXG4gICAgY29uc3Qgd2VhdGhlckRhdGEgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7cHJvcHMubGF0fSZsb249JHtwcm9wcy5sb25nfSZhcHBpZD0ke3Byb3BzLmFwaUtleX0mdW5pdHM9JHtwcm9wcy51bml0c30mZXhjbHVkZT1taW51dGVseSxhbGVydHMsaG91cmx5LGRhaWx5YClcclxuICAgIHdlYXRoZXIudmFsdWUgPSBhd2FpdCB3ZWF0aGVyRGF0YS5qc29uKClcclxuICAgIGN1cnJlbnRXZWF0aGVyLnZhbHVlID0gd2VhdGhlci52YWx1ZS5jdXJyZW50XHJcbiAgICB1dGNUb0RhdGUoY3VycmVudFdlYXRoZXIudmFsdWUuZHQsIHdlYXRoZXIudmFsdWUudGltZXpvbmVfb2Zmc2V0KVxyXG4gICAgZW1pdHMoXCJjdXJyZW50V2VhdGhlclwiLCBbd2VhdGhlci52YWx1ZV0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcbi8vIHNldCB1cGRhdGUgaW50ZXJ2YWwgdG8gdXBkYXRlIGV2ZXJ5IG1pbnV0ZSBtaW51cyB0aGUgY3VycmVudCBzZWNvbmRzIGVsYXBzZWRcclxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gIHVwZGF0ZS52YWx1ZSA9ICF1cGRhdGUudmFsdWVcclxufSwgKDEyMCAtIG5ldyBEYXRlKCkuZ2V0U2Vjb25kcygpKSAqIDEwMDApXHJcbjwvc2NyaXB0PlxyXG5cclxuPHRlbXBsYXRlPlxyXG4gIDxkaXYgY2xhc3M9XCJjb21wb25lbnQgY2FyZFwiIHN0eWxlPVwicGFkZGluZy1sZWZ0OiAxNXB4OyBwYWRkaW5nLWJvdHRvbTogMjBweDtcIiB2LWlmPVwiY3VycmVudFdlYXRoZXJcIj5cclxuICAgIDxoMT5cclxuICAgICAge3sgdXRjVG9EYXRlKGN1cnJlbnRXZWF0aGVyLmR0LCB3ZWF0aGVyLnRpbWV6b25lX29mZnNldCkgfX0sIFxyXG4gICAgICB7eyB1dGNUb1RpbWUoY3VycmVudFdlYXRoZXIuZHQsIHdlYXRoZXIudGltZXpvbmVfb2Zmc2V0KSB9fVxyXG4gICAgPC9oMT5cclxuICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O1wiPlxyXG4gICAgICB7eyBjdXJyZW50V2VhdGhlci53ZWF0aGVyWzBdLmRlc2NyaXB0aW9uIH19XHJcbiAgICAgIDxpbWcgZHJhZ2dhYmxlPVwiZmFsc2VcIiA6YWx0PVwiY3VycmVudFdlYXRoZXIud2VhdGhlclswXVwiIDpzcmM9XCJgaHR0cHM6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7Y3VycmVudFdlYXRoZXIud2VhdGhlclswXS5pY29ufUAyeC5wbmdgXCIgLz5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImdyaWQtY29udGFpbmVyXCI+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgQ2xvdWQgQ292ZXJcclxuICAgICAgICB7eyBjdXJyZW50V2VhdGhlci5jbG91ZHMgfX0lXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIEh1bWlkaXR5XHJcbiAgICAgICAge3sgY3VycmVudFdlYXRoZXIuaHVtaWRpdHkgfX0lXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIFByZXNzdXJlXHJcbiAgICAgICAge3sgY3VycmVudFdlYXRoZXIucHJlc3N1cmUgfX1oUGFcclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgVGVtcGVyYXR1cmVcclxuICAgICAgICB7eyBjdXJyZW50V2VhdGhlci50ZW1wIH19wrBDXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIEZlZWxzIExpa2VcclxuICAgICAgICB7eyBjdXJyZW50V2VhdGhlci5mZWVsc19saWtlIH19wrBDXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIERldyBQb2ludFxyXG4gICAgICAgIHt7IGN1cnJlbnRXZWF0aGVyLmRld19wb2ludCB9fcKwQ1xyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdj5cclxuICAgICAgICB7eyBjdXJyZW50V2VhdGhlci53aW5kX3NwZWVkIH19bS9zXHJcbiAgICAgICAge3sgY29udmVydERpcmVjdGlvbihjdXJyZW50V2VhdGhlci53aW5kX2RlZykgfX1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgVmlzaWJpbGl0eVxyXG4gICAgICAgIHt7IChjdXJyZW50V2VhdGhlci52aXNpYmlsaXR5IC8gMTAwMCkudG9GaXhlZCgyKSB9fWttXHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIFVWIEluZGV4XHJcbiAgICAgICAge3sgY3VycmVudFdlYXRoZXIudXZpIH19XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIFN1bnJpc2VcclxuICAgICAgICB7eyB1dGNUb1RpbWUoY3VycmVudFdlYXRoZXIuc3VucmlzZSwgd2VhdGhlci50aW1lem9uZV9vZmZzZXQpIH19XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIFN1bnNldFxyXG4gICAgICAgIHt7IHV0Y1RvVGltZShjdXJyZW50V2VhdGhlci5zdW5zZXQsIHdlYXRoZXIudGltZXpvbmVfb2Zmc2V0KSB9fVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHN0eWxlIHNjb3BlZD5cclxuLmdyaWQtY29udGFpbmVyIHtcclxuICBkaXNwbGF5OiBncmlkO1xyXG4gIG1heC13aWR0aDogNjAwcHg7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG8gYXV0bztcclxuICBncmlkLWdhcDogMTBweDtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbjwvc3R5bGU+IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSAndnVlJ1xyXG5pbXBvcnQgeyB1dGNUb1RpbWUsIHV0Y1RvRGF0ZSwgY29udmVydFRpbWVab25lLCBnZXRXZWF0aGVyIH0gZnJvbSAnLi91dGlscydcclxuaW1wb3J0IFZ1ZU9wZW5XZWF0aGVyIGZyb20gJy4vVnVlT3BlbldlYXRoZXIudnVlJ1xyXG5pbXBvcnQgVnVlQ3VycmVudFdlYXRoZXIgZnJvbSAnLi9WdWVDdXJyZW50V2VhdGhlci52dWUnXHJcblxyXG4vKiBBIHdheSB0byByZWdpc3RlciB0aGUgY29tcG9uZW50IGdsb2JhbGx5LiAqL1xyXG5leHBvcnQgY29uc3QgT3BlbldlYXRoZXIgPSB7XHJcbiAgaW5zdGFsbDogKGFwcDogQXBwKSA9PiB7XHJcbiAgICBhcHAuY29tcG9uZW50KCdWdWVPcGVuV2VhdGhlcicsIFZ1ZU9wZW5XZWF0aGVyKVxyXG4gICAgYXBwLmNvbXBvbmVudCgnVnVlQ3VycmVudFdlYXRoZXInLCBWdWVDdXJyZW50V2VhdGhlcilcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgVnVlT3BlbldlYXRoZXIgfSBmcm9tICcuL1Z1ZU9wZW5XZWF0aGVyLnZ1ZSdcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBWdWVDdXJyZW50V2VhdGhlciB9IGZyb20gJy4vVnVlQ3VycmVudFdlYXRoZXIudnVlJ1xyXG5leHBvcnQge1xyXG4gIHV0Y1RvVGltZSxcclxuICB1dGNUb0RhdGUsXHJcbiAgY29udmVydFRpbWVab25lLFxyXG4gIGdldFdlYXRoZXJcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFPYSxNQUFBLGtCQUFrQixDQUFDLE1BQWMsV0FBbUI7QUFDL0QsUUFBTSxPQUFPLElBQUksS0FBTSxRQUFPLFVBQVUsR0FBSTtBQUM1QyxRQUFNLE1BQU0sS0FBSyxRQUFBLElBQWEsS0FBSyxrQkFBc0IsSUFBQTtBQUNu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
